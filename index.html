<!-- /home/abrink/Schreibtisch/Projekte/AboChecker/abo-checker/index.html -->

<!doctype html>
<html lang="de">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Abo Checker</title>
    <link rel="stylesheet" href="src/styles.css" />
  </head>

  <div id="menuOverlay" class="menu-overlay"></div>

  <nav id="menu" class="menu">
      <ul class="menu__list">
          <li class="menu__group">
            <button
                type="button"
                id="reminderSettingsToggle"
                class="menu__item menu__item--subtoggle"
            >
                Erinnerungen ‚ñæ
            </button>

            <div id="reminderSettingsPanel" class="menu__subpanel">
                <label class="menu__field">
                    <span>Zahlung: Vorlauf (Tage)</span>
                    <input
                        id="reminderBillingInput"
                        type="number"
                        min="0"
                        step="1"
                        inputmode="numeric"
                    />
                </label>

                <label class="menu__field">
                    <span>Verl√§ngerung: Vorlauf (Tage)</span>
                    <input
                        id="reminderRenewalInput"
                        type="number"
                        min="0"
                        step="1"
                        inputmode="numeric"
                    />
                </label>

                <label class="menu__field">
                    <span>Uhrzeit</span>
                    <input
                        id="reminderTimeInput"
                        type="time"
                    />
                </label>
            </div>
          </li>
          <li>
            <button
                class="menu__item"
                data-menu-action="reminder-overview"
                type="button"
            >
                Erinnerungs√ºbersicht
            </button>
          </li>

          <li>
              <button class="menu__item" data-menu-action="clear-all">
                  Alle Abos entfernen
              </button>
          </li>
          <li>
              <button class="menu__item" data-menu-action="toggle-dark" id="menuItemTheme">
                  Darkmode umschalten
              </button>
          </li>
          <li class="menu__group">
              <div class="menu__label">Gesamt anzeigen als</div>
              <select id="displaySelect" class="menu__select">
                  <option value="monthly">pro Monat</option>
                  <option value="yearly">pro Jahr</option>
                  <option value="weekly">pro Woche</option>
                  <option value="quarterly">pro Quartal</option>
                  <option value="daily">pro Tag</option>
              </select>
          </li>
      </ul>
  </nav>

  <body>
    <div class="app" id="app">
      <header class="app__header">
        <h1>Abo Checker</h1>
        <div class="app__total">
          <span id="totalLabel">Monatskosten aktiv:</span>
          <b id="totalTop">‚Ç¨ 0,00</b>
        </div>
        <button id="menuBtn" class="menu-btn" aria-label="Men√º √∂ffnen">
        ‚ò∞
        </button>
      </header>

      <!-- Formular-Panel -->
      <div class="panel" id="panel">
        <form class="form" id="form">
          <input type="hidden" id="formId" />

          <label class="field">
            <span>Name</span>
            <input id="name" placeholder="Netflix, Handyvertrag‚Ä¶" />
          </label>

      <div class="fieldgroup">
          <label class="field">
              <span>Anbieter</span>
              <input id="provider" placeholder="Telekom, Spotify‚Ä¶" />
          </label>

          <label class="field">
              <span>Kategorie</span>
              <div class="category-control">
                  <select id="categorySelect">
                      <option value="">Keine Kategorie</option>
                      <!-- Optionen kommen dynamisch aus JS -->
                  </select>
                  <button
                      type="button"
                      id="categoryAddBtn"
                      class="category-control__add"
                      aria-label="Kategorie hinzuf√ºgen"
                      title="Kategorie hinzuf√ºgen"
                  >
                      +
                  </button>
                  <button
                      type="button"
                      id="categoryDeleteBtn"
                      class="category-control__delete"
                      aria-label="Kategorie l√∂schen"
                      title="Kategorie l√∂schen"
                  >
                      üóë
                  </button>
              </div>
          </label>
      </div>

          <label class="field">
            <span>Abbuchung</span>
            <select id="debit">
              <option value="auto">automatisch</option>
              <option value="manual">manuell</option>
            </select>
          </label>

          <!-- Erinnerungs-Einstellungen pro Abo -->
          <div class="fieldgroup">
              <label class="field">
                  <span>Erinnerungen</span>
                  <select id="reminderMode">
                      <option value="default">Standard-Einstellungen verwenden</option>
                      <option value="custom">Abo-spezifische Einstellungen</option>
                      <option value="off">F√ºr dieses Abo aus</option>
                  </select>
              </label>

              <div class="field field--reminderDetails" id="reminderCustomFields">
                  <span>Vorlauf (Tage)</span>
                  <div class="fieldgroup fieldgroup--inline">
                      <label class="field">
                          <span>Zahlung</span>
                          <input
                              id="reminderBillingCustom"
                              type="number"
                              min="0"
                              step="1"
                              inputmode="numeric"
                          />
                      </label>
                      <label class="field">
                          <span>Verl√§ngerung</span>
                          <input
                              id="reminderRenewalCustom"
                              type="number"
                              min="0"
                              step="1"
                              inputmode="numeric"
                          />
                      </label>
                  </div>
              </div>
          </div>

          <div class="fieldgroup">
            <label class="field">
              <span>Betrag in ‚Ç¨</span>
              <input
                id="amount"
                type="number"
                inputmode="decimal"
                step="0.01"
                min="0"
                placeholder="0,00"
              />
            </label>

            <label class="field">
              <span>Zahlungsweise</span>
              <select id="cycle"></select>
            </label>
          </div>

          <div class="fieldgroup">
            <label class="field">
              <span>Startdatum </span>
              <input id="startDate" type="date" placeholder="Keine Angabe" />
            </label>

            <label class="field">
              <span>Ablaufdatum (optional)</span>
              <input id="endDate" type="date" placeholder="Keine Angabe"/>
            </label>
          </div>

          <label class="field">
            <span>Abbuchungstag (optional)</span>
            <input
              id="billingDay"
              type="number"
              min="1"
              max="31"
              placeholder="Tag im Monat (1‚Äì31)"
            />
          </label>

          <label class="field">
            <span>Notiz</span>
            <textarea id="note" rows="3" placeholder="Infos, Vertragsnummer‚Ä¶"></textarea>
          </label>

          <label class="switch">
            <input id="active" type="checkbox" checked />
            <span>Aktiv</span>
          </label>

          <div class="actions">
            <button type="button" id="editBtn" class="btn--primary">Bearbeiten</button>
            <button type="submit" id="submitBtn" class="btn btn--primary">Speichern</button>
            <button type="button" id="deleteBtn" class="btn btn--danger">L√∂schen</button>
            <button type="button" id="cancelBtn" class="btn--primary">Schlie√üen</button>
          </div>
        </form>

      </div>

      <!-- Liste -->
      <div class="card">
        <div class="listToolbar">
            <input
                id="searchInput"
                class="listToolbar__search"
                type="search"
                placeholder="Suchen..."
            />

            <select id="sortSelect" class="listToolbar__sort">
                <option value="name">Name</option>
                <option value="price">Preis</option>
                <!-- sp√§ter: <option value="nextDue">Sortierung: n√§chste F√§lligkeit</option> -->
            </select>

            <button
                id="sortDirBtn"
                class="listToolbar__sortDir"
                type="button"
                aria-label="Sortierreihenfolge umschalten"
            >
                ‚Üë
            </button>

            <button
                id="filterToggleBtn"
                class="listToolbar__filterBtn"
                type="button"
                aria-expanded="false"
                aria-controls="filterPanel"
            >
                <img src="src/img/icon/filter-icon-svg-7.png" alt="Filter">
            </button>
        </div>

        <div id="filterPanel" class="filterPanel">
            <div class="filterPanel__row">
                <label class="filterPanel__field">
                    <span>Status</span>
                    <select id="statusFilter">
                        <option value="all">Alle</option>
                        <option value="active">Nur aktive</option>
                        <option value="inactive">Nur inaktive</option>
                    </select>
                </label>

                <label class="filterPanel__field">
                    <span>Zyklus</span>
                    <select id="cycleFilter">
                        <option value="all">Alle</option>
                        <option value="daily">t√§glich</option>
                        <option value="weekly">w√∂chentlich</option>
                        <option value="monthly">monatlich</option>
                        <option value="quarterly">viertelj√§hrlich</option>
                        <option value="yearly">j√§hrlich</option>
                    </select>
                </label>
            </div>

            <div class="filterPanel__row">
                <label class="filterPanel__field filterPanel__field--full">
                    <span>Kategorie</span>
                    <select id="categoryFilter">
                        <option value="all">Alle Kategorien</option>
                        <option value="none">Ohne Kategorie</option>
                        <!-- Kategorien kommen aus JS -->
                    </select>
                </label>

                <button
                    type="button"
                    id="filterResetBtn"
                    class="filterPanel__reset"
                >
                    Filter zur√ºcksetzen
                </button>
            </div>
        </div>

        <div class="list__head">
            <div>Abo</div>
            <div>Abbuchung</div>
            <div>Zahlungsweise</div>
            <div class="right" id="amountHeader">‚Ç¨/Monat</div>
            <div class="center">Aktiv</div>
        </div>

        <div id="empty" class="empty">Noch keine Abos hinzugef√ºgt.</div>
        <ul class="list" id="list"></ul>
      </div>

      <!-- Sticky-Bottom -->
      <div class="stickybar">
          <div id="stickyLabel">Gesamt (aktiv, pro Monat)</div>
          <div class="strong" id="totalBottom">‚Ç¨ 0,00</div>
      </div>

      <!-- Reminder-√úbersicht -->
      <div id="reminderOverview" class="panel panel--reminders">
        <h2 class="panel__title">Erinnerungen</h2>
        <p class="panel__subtitle">
          N√§chste anstehende Erinnerungen (max. eine pro Abo gleichzeitig).
        </p>

        <div id="reminderOverviewList" class="reminderList"></div>

        <div class="actions actions--right">
          <button
            type="button"
            id="reminderOverviewClose"
            class="btn"
          >
            Schlie√üen
          </button>
        </div>

        <!-- Snooze-Leiste f√ºr eine ausgew√§hlte Erinnerung -->
        <div id="reminderSnoozePanel" class="snoozePanel">
          <div class="snoozePanel__header">
            <div class="snoozePanel__title">Erinnerung snoozen</div>
            <div id="snoozeLabel" class="snoozePanel__subtitle"></div>
          </div>

          <div class="snoozePanel__controls">
            <div class="snoozePanel__quick">
              <span class="snoozePanel__hint">Schnellauswahl:</span>
              <button
                type="button"
                class="btn btn--small"
                data-snooze-offset="1"
              >
                Morgen
              </button>
              <button
                type="button"
                class="btn btn--small"
                data-snooze-offset="7"
              >
                In 1 Woche
              </button>
              <button
                type="button"
                class="btn btn--small"
                data-snooze-offset="30"
              >
                In 1 Monat
              </button>
            </div>

            <div class="snoozePanel__date">
              <span class="snoozePanel__hint">oder Datum & Uhrzeit w√§hlen:</span>
              <input id="snoozeDateInput" type="date" />
              <input id="snoozeTimeInput" type="time" />
            </div>

            <div class="snoozePanel__actions">
              <button
                type="button"
                id="snoozeApplyBtn"
                class="btn btn--small btn--primary"
              >
                √úbernehmen
              </button>
              <button
                type="button"
                id="snoozeCancelBtn"
                class="btn btn--small"
              >
                Abbrechen
              </button>
            </div>
          </div>
        </div>
      </div>

      <button class="fab" id="fab" aria-label="Abo hinzuf√ºgen">+</button>
      <p class="note">Daten bleiben lokal auf deinem Ger√§t wenn du das willst. Kein Konto, keine Cloud, kein Bullshit.</p>
    </div>

    <script src="src/app.js"></script>
  </body>
</html>
